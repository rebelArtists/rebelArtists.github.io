import{g as e,o as t,c as n,a,b as s,d as i,r,W as o,C as l,f as u,p as c,s as d,i as p,e as y,h as m,j as w,n as h,w as g,k as v,l as f,v as T,N as k,m as b,q as M,T as C,t as x,u as A,x as _,y as L,z as O,F as P,A as S,B,D as H,E as U,G as E,H as D,I,J as R,K as N,L as $,M as z,O as F}from"./vendor.45f5d20f.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const j=e=>`https://res.cloudinary.com/dpsyhmq89/video/upload/h_500,w_500/v1/ipfs_signed/${e}`,V=e=>`https://res.cloudinary.com/dpsyhmq89/image/upload/c_fill,g_north,h_500,w_500/v1/ipfs_signed/${e}`,W=(e,t=!1,n=1)=>{const a=t?1e3:1024;if(Math.abs(e)<a)return e+" B";const s=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let i=-1;const r=10**n;do{e/=a,++i}while(Math.round(Math.abs(e)*r)/r>=a&&i<s.length-1);return e.toFixed(n)+" "+s[i]},Z=e=>e.indexOf("video")>=0,Y=e=>`https://ipfs.io/ipfs/${e}`,q=t=>{try{e(t)}catch(n){return!1}return!0},G={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},K=[a("path",{d:"M12 8a4 4 0 0 0-4 4a4 4 0 0 0 4 4a4 4 0 0 0 4-4a4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6a6 6 0 0 1 6-6a6 6 0 0 1 6 6a6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69L8.69 4H4v4.69L.69 12L4 15.31V20h4.69L12 23.31L15.31 20H20v-4.69L23.31 12L20 8.69z",fill:"currentColor"},null,-1)];var J={name:"mdi-brightness7",render:function(e,a){return t(),n("svg",G,K)}};const X={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Q=[a("path",{d:"M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6a6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69L8.69 4H4v4.69L.69 12L4 15.31V20h4.69L12 23.31L15.31 20H20v-4.69L23.31 12L20 8.69z",fill:"currentColor"},null,-1)];var ee={name:"mdi-brightness4",render:function(e,a){return t(),n("svg",X,Q)}};const te={name:"MetaName",emits:["on-changed"],props:{name:{type:String,default:"new dope single"},valid:{type:Boolean,default:!1}}},ne={class:"meta-name"},ae={class:"name-span"},se=a("span",null,"Name",-1),ie={key:0,class:"warningText"},re={key:1,class:"successfulText"},oe=["value"];te.render=function(e,i,r,o,l,u){return t(),n("div",ne,[a("div",ae,[se,this.valid?s("",!0):(t(),n("span",ie," (alphanumeric between 3-30 characters) ")),this.valid?(t(),n("span",re," ✓ ")):s("",!0)]),a("input",{type:"text",id:"name",class:"name-input",value:r.name,placeholder:"my single",onInput:i[0]||(i[0]=t=>e.$emit("on-changed",t))},null,40,oe)])};const le={name:"MetaDescription",emits:["on-changed"],props:{description:{type:String,default:"banger bout crypto..."},valid:{type:Boolean,default:!1}}},ue={class:"meta-description"},ce={class:"description-span"},de=a("span",null,"Description",-1),pe={key:0,class:"warningText"},ye={key:1,class:"successfulText"},me=["value"];le.render=function(e,i,r,o,l,u){return t(),n("div",ue,[a("div",ce,[de,this.valid?s("",!0):(t(),n("span",pe," (alphanumeric between 3-90 characters) ")),this.valid?(t(),n("span",ye," ✓ ")):s("",!0)]),a("input",{type:"text",id:"description",class:"description-input",value:r.description,placeholder:"gift from the gods",onInput:i[0]||(i[0]=t=>e.$emit("on-changed",t))},null,40,me)])};const we={name:"MetaAttributes",emits:["on-changed"],props:{attributes:{type:String,default:'[{"trait_type": "Type","value": "Single"}]'},valid:{type:Boolean,default:!1}}},he={class:"meta-attributes"},ge={class:"attributes-span"},ve=a("span",null,"Attributes",-1),fe={key:0,class:"warningText"},Te={key:1,class:"successfulText"},ke=["value"];we.render=function(e,i,r,o,l,u){return t(),n("div",he,[a("div",ge,[ve,this.valid?s("",!0):(t(),n("span",fe," (given object keys req for each element in array) ")),this.valid?(t(),n("span",Te," ✓ ")):s("",!0)]),a("input",{type:"text",id:"attributes",class:"attributes-input",value:r.attributes,placeholder:'[{"trait_type": "Type","value": "Single"}]',onInput:i[0]||(i[0]=t=>e.$emit("on-changed",t))},null,40,ke)])};const be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Me=[a("path",{d:"M6 2h12v6l-4 4l4 4v6H6v-6l4-4l-4-4V2m10 14.5l-4-4l-4 4V20h8v-3.5m-4-5l4-4V4H8v3.5l4 4M10 6h4v.75l-2 2l-2-2V6z",fill:"currentColor"},null,-1)];var Ce={name:"mdi-timer-sand",render:function(e,a){return t(),n("svg",be,Me)}};const xe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Ae=[a("path",{d:"M9 16v-6H5l7-7l7 7h-4v6H9m-4 4v-2h14v2H5z",fill:"currentColor"},null,-1)];var _e={name:"mdi-upload",render:function(e,a){return t(),n("svg",xe,Ae)}};var Le=[{inputs:[{internalType:"address",name:"rebelTokenAddress_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"postId",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"mediaHash",type:"string"},{indexed:!1,internalType:"string",name:"metaHash",type:"string"},{indexed:!1,internalType:"string",name:"mediaType",type:"string"}],name:"NewPost",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"userAddress",type:"address"}],name:"NewUser",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_mediaHash",type:"string"},{internalType:"string",name:"_metaHash",type:"string"},{internalType:"string",name:"_mediaType",type:"string"}],name:"createPost",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"donateToUser",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint32",name:"_postId",type:"uint32"}],name:"getAddressesWhoLiked",outputs:[{internalType:"address[]",name:"addressArray",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_postId",type:"uint32"}],name:"getPostById",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"mediaHash",type:"string"},{internalType:"string",name:"metaHash",type:"string"},{internalType:"string",name:"mediaType",type:"string"},{internalType:"uint32",name:"likes",type:"uint32"},{internalType:"uint32",name:"id",type:"uint32"},{internalType:"address",name:"addressOwner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPostCount",outputs:[{internalType:"uint32",name:"postCount",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"endingIndex",type:"uint32"}],name:"getPosts",outputs:[{internalType:"string[]",name:"namesArray",type:"string[]"},{internalType:"string[]",name:"mediaHashesArray",type:"string[]"},{internalType:"string[]",name:"mediaTypeArray",type:"string[]"},{internalType:"uint32[]",name:"likesArray",type:"uint32[]"},{internalType:"uint32[]",name:"idArray",type:"uint32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"endingIndex",type:"uint256"}],name:"getPostsByOwner",outputs:[{internalType:"string[]",name:"namesArray",type:"string[]"},{internalType:"string[]",name:"mediaHashesArray",type:"string[]"},{internalType:"string[]",name:"mediaTypeArray",type:"string[]"},{internalType:"uint32[]",name:"likesArray",type:"uint32[]"},{internalType:"uint32[]",name:"idArray",type:"uint32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"endingIndex",type:"uint256"}],name:"getPostsLikedByOwner",outputs:[{internalType:"string[]",name:"namesArray",type:"string[]"},{internalType:"string[]",name:"mediaHashesArray",type:"string[]"},{internalType:"string[]",name:"mediaTypeArray",type:"string[]"},{internalType:"uint32[]",name:"likesArray",type:"uint32[]"},{internalType:"uint32[]",name:"idArray",type:"uint32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"getPostsLikedByOwnerList",outputs:[{internalType:"uint32[]",name:"postIdArray",type:"uint32[]"},{internalType:"uint256",name:"likesCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRandomPosts",outputs:[{internalType:"string[]",name:"namesArray",type:"string[]"},{internalType:"string[]",name:"mediaHashesArray",type:"string[]"},{internalType:"string[]",name:"mediaTypeArray",type:"string[]"},{internalType:"uint32[]",name:"likesArray",type:"uint32[]"},{internalType:"uint32[]",name:"idArray",type:"uint32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTxFee",outputs:[{internalType:"uint256",name:"currentTxFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"getUserByOwner",outputs:[{internalType:"uint256",name:"amtEarned",type:"uint256"},{internalType:"uint32",name:"postCount",type:"uint32"},{internalType:"uint32",name:"totalLikes",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getUserPostCount",outputs:[{internalType:"uint256",name:"postCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32[]",name:"postIds",type:"uint32[]"}],name:"isLiked",outputs:[{internalType:"bool[]",name:"likedArray",type:"bool[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_postId",type:"uint32"}],name:"likePost",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"ownerToPostIds",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"",type:"uint32"},{internalType:"uint256",name:"",type:"uint256"}],name:"postToLikingUsers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"",type:"uint32"}],name:"postToOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_fee",type:"uint256"}],name:"setTxFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_postId",type:"uint32"}],name:"unlikePost",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}];var Oe=[{inputs:[{internalType:"address",name:"rebelTokenAddress_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"contributions",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalContributions",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_beneficiary",type:"address"}],name:"getUserContribution",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"investorHardCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"investorMinCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"sendTokens",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"totalContributionsWei",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}];const Pe=new class{constructor(e){this.key=e,this.data=null}read(){const e=localStorage.getItem(this.key);if(null===e)return null;this.data=JSON.parse(e)}write(){null!==this.data&&localStorage.setItem(this.key,JSON.stringify(this.data))}}("app"),Se="0xf317E2167dd339EFb4Aca2A6D387c341c51C6aF5",Be="0xf4CB625b3fB73Ef71b4e2D42827Df4901Ffee7fa";Pe.read(),Pe.data;const He=i({id:"store",state:()=>({files:[]}),actions:{resetFiles(){this.files=[]},addFiles(...e){this.files.push(...e)}}}),Ue=i("rebel",(()=>{const e=r(null),t=r(null),n=r([]),a=r([]),s=r([]),i=r([]),d=r(null),p=r([]),y=r([]),m=r([]),w=r([]),h=r([]),g=r([]),v=r([]),f=r(0),T=r(0);async function k(e){try{const{ethereum:t}=window;if(t){const s=new o(t).getSigner(),i=new l(Se,Le,s),r=await i.getUserPostCount(e),u=await i.getPostsByOwner(e,r.toNumber());n.value=[],a.value=[];for(let e=0;e<u.namesArray.length;e++){const t=new Object;t.name=u.namesArray[e],t.mediaHash=u.mediaHashesArray[e],t.mediaType=u.mediaTypeArray[e],t.likes=u.likesArray[e],t.id=u.idArray[e],a.value.push(u.idArray[e]),n.value.push(t)}a.value=a.value.reverse(),n.value=n.value.reverse()}}catch(t){"MetaMask Tx Signature: User denied transaction signature."==!t.message&&console.log("e",t)}}async function b(e){try{const{ethereum:n}=window;if(n){const a=new o(n).getSigner(),s=new l(Se,Le,a),i=await s.getUserByOwner(e),r=new Object;r.amtEarned=u(i.amtEarned),r.postCount=i.postCount,r.totalLikes=i.totalLikes,t.value=r}}catch(n){"MetaMask Tx Signature: User denied transaction signature."==!n.message&&console.log("e",n)}}return{connectWallet:async function(){try{const{ethereum:n}=window;if(!n)return void alert("Must connect to MetaMask!");const a=await n.request({method:"eth_requestAccounts"});localStorage.setItem("accountStorage",a[0]),console.log("Connected: ",a[0]),e.value=a[0],await async function(){try{const t=[{chainId:(e=80001,"0x"+e.toString(16)),chainName:"Matic Mumbai",nativeCurrency:{name:"Matic Token",symbol:"MATIC",decimals:18},rpcUrls:["https://rpc-mumbai.maticvigil.com/"],blockExplorerUrls:["https://mumbai.polygonscan.com/"]}],{ethereum:n}=window;if(!n)return void alert("Must connect to MetaMask!");await n.request({method:"wallet_addEthereumChain",params:t})}catch(t){console.log("e",t)}var e}(),await b(e.value),t.value&&await k(e.value)}catch(n){"MetaMask Tx Signature: User denied transaction signature."==!n.message&&console.log("e",n)}},account:e,postContent:async function(e,t,n,a){try{const{ethereum:s}=window;if(s){const i=new o(s).getSigner(),r=new l(Se,Le,i),u=await r.createPost(e,t,n,a);console.log("Mining...",u.hash),await u.wait(),console.log("Mined -- ",u.hash)}}catch(s){"MetaMask Tx Signature: User denied transaction signature."==!s.message&&console.log("e",s)}},getPostsByOwner:k,postedItems:n,getUserByOwner:b,user:t,likePost:async function(e){try{const{ethereum:t}=window;if(t){const n=new o(t).getSigner(),a=new l(Se,Le,n),s=await a.likePost(e,{value:c(".02")});console.log("Liking post...",s.hash),await s.wait(),console.log("Liked post successfully",s.hash)}}catch(t){"MetaMask Tx Signature: User denied transaction signature."==!t.message&&console.log("e",t)}},isLiked:async function(e){try{const{ethereum:t}=window;if(t){const n=new o(t).getSigner(),a=new l(Se,Le,n),i=await a.isLiked(e);s.value=i}}catch(t){"MetaMask Tx Signature: User denied transaction signature."==!t.message&&console.log("e",t)}},likedArray:s,postsArray:a,unlikePost:async function(e){try{const{ethereum:t}=window;if(t){const n=new o(t).getSigner(),a=new l(Se,Le,n),s=await a.unlikePost(e);console.log("Unliking post...",s.hash),await s.wait(),console.log("Unliked post successfully",s.hash)}}catch(t){"MetaMask Tx Signature: User denied transaction signature."==!t.message&&console.log("e",t)}},getPostById:async function(e){try{const{ethereum:t}=window;if(t){const n=new o(t).getSigner(),a=new l(Se,Le,n),s=await a.getPostById(e);if(s.name){const e=new Object;e.name=s.name,e.mediaHash=s.mediaHash,e.metaHash=s.metaHash,e.mediaType=s.mediaType,e.likes=s.likes,e.id=s.id,e.address=s.addressOwner;const t=await(async e=>{const t=await fetch(`https://ipfs.io/ipfs/${e}`);return await t.json()})(e.metaHash);e.description=t.description,e.attributes=t.attributes,i.value=e,await b(i.value.address)}else i.value=null}}catch(t){"MetaMask Tx Signature: User denied transaction signature."==!t.message&&console.log("e",t)}},individualPost:i,routedUser:d,getPostsLatest:async function(){try{const{ethereum:e}=window;if(e){const t=new o(e).getSigner(),n=new l(Se,Le,t),a=await n.getPostCount(),s=await n.getPosts(a);p.value=[],y.value=[];for(let e=0;e<s.namesArray.length;e++){const t=new Object;s.namesArray[e]&&(t.name=s.namesArray[e],t.mediaHash=s.mediaHashesArray[e],t.mediaType=s.mediaTypeArray[e],t.likes=s.likesArray[e],t.id=s.idArray[e],y.value.push(s.idArray[e]),p.value.push(t))}y.value=y.value.reverse(),p.value=p.value.reverse()}}catch(e){"MetaMask Tx Signature: User denied transaction signature."==!e.message&&console.log("e",e)}},latestPosts:p,latestPostsArray:y,getLikedPostsByOwner:async function(e){try{const{ethereum:t}=window;if(t){const n=new o(t).getSigner(),a=new l(Se,Le,n),s=(await a.getPostsLikedByOwnerList(e)).likesCount,i=await a.getPostsLikedByOwner(e,s);m.value=[],w.value=[];for(let e=0;e<i.namesArray.length;e++){const t=new Object;t.name=i.namesArray[e],t.mediaHash=i.mediaHashesArray[e],t.mediaType=i.mediaTypeArray[e],t.likes=i.likesArray[e],t.id=i.idArray[e],w.value.push(i.idArray[e]),m.value.push(t)}w.value=w.value.reverse(),m.value=m.value.reverse()}}catch(t){"MetaMask Tx Signature: User denied transaction signature."==!t.message&&console.log("e",t)}},likedPostItems:m,likedPostArray:w,likersOfPost:async function(e){try{const{ethereum:t}=window;if(t){const n=new o(t).getSigner(),a=new l(Se,Le,n),s=await a.getAddressesWhoLiked(e);h.value=s}}catch(t){"MetaMask Tx Signature: User denied transaction signature."==!t.message&&console.log("e",t)}},likedAddressesArray:h,randomPosts:g,randomPostsArray:v,getRandomPosts:async function(){try{const{ethereum:e}=window;if(e){const t=new o(e).getSigner(),n=new l(Se,Le,t),a=await n.getRandomPosts();g.value=[],v.value=[];for(let e=0;e<a.namesArray.length;e++){const t=new Object;a.namesArray[e]&&!v.value.includes(a.idArray[e])&&(t.name=a.namesArray[e],t.mediaHash=a.mediaHashesArray[e],t.mediaType=a.mediaTypeArray[e],t.likes=a.likesArray[e],t.id=a.idArray[e],v.value.push(a.idArray[e]),g.value.push(t))}}}catch(e){"MetaMask Tx Signature: User denied transaction signature."==!e.message&&console.log("e",e)}},sendCrowdsaleTokens:async function(e){try{const{ethereum:t}=window;if(t){const n=new o(t).getSigner(),a=new l(Be,Oe,n),s=await a.sendTokens({value:c(e)});console.log("Sending tokens...",s.hash),await s.wait(),console.log("Sent tokens successfully",s.hash)}}catch(t){"MetaMask Tx Signature: User denied transaction signature."==!t.message&&console.log("e",t)}},amtRaised:f,userContribution:T,getAmtRaised:async function(){try{const{ethereum:e}=window;if(e){const t=new o(e).getSigner(),n=new l(Be,Oe,t),a=await n.getTotalContributions();f.value=u(a)}}catch(e){console.log("e",e)}},getUserAmtDonated:async function(){try{const{ethereum:t}=window;if(t){const n=new o(t).getSigner(),a=new l(Be,Oe,n),s=await a.getUserContribution(e.value);T.value=u(s)}}catch(t){console.log("e",t)}},withdrawCrowdsaleFunds:async function(){try{const{ethereum:e}=window;if(e){const t=new o(e).getSigner(),n=new l(Be,Oe,t),a=await n.withdraw();await a.wait()}}catch(e){console.log("e",e)}},withdrawDappFunds:async function(){try{const{ethereum:e}=window;if(e){const t=new o(e).getSigner(),n=new l(Se,Le,t),a=await n.withdraw();await a.wait()}}catch(e){console.log("e",e)}},donationToUser:async function(e,t){try{const{ethereum:n}=window;if(n){const a=new o(n).getSigner(),s=new l(Se,Le,a),i=await s.donateToUser(e,{value:c(t.toString())});console.log("Donating to user...",i.hash),await i.wait(),console.log("Donation successfull",i.hash)}}catch(n){"MetaMask Tx Signature: User denied transaction signature."==!n.message&&console.log("e",n)}}}}));class Ee{constructor(){this.endpoint=new URL("https://ipfs.infura.io:5001")}async uploadIpfs(e){const t=new URL("/api/v0/add?stream-channels=true",this.endpoint),n=new FormData;n.append("file",e);const a=await fetch(t.toString(),{method:"POST",body:n}),s=await a.json();if(!a.ok)throw new Error("Error while upload into IPFS Network");return[s,n]}async uploadCloudinary(e,t){const n=e,a=(new Date).getTime(),s="ipfs_signed",i=`public_id=${n}&timestamp=${a}&upload_preset=ipfs_signedHs_mpd2qxYG4LGO3FMBNSg8NWnI`;t.append("upload_preset",s),t.append("public_id",n),t.append("api_key","344593173214383"),t.append("timestamp",a),t.append("signature",d.exports.sha256(i));if(!(await fetch("https://api.cloudinary.com/v1_1/dpsyhmq89/auto/upload",{method:"POST",body:t})).ok)throw new Error("Error while upload to cloudinary")}async storeBlob(e,t,n,a){if(0===e.size)throw new Error("Content size is 0, make sure to provide some content");const[s,i]=await this.uploadIpfs(e);await this.uploadCloudinary(s.Hash,i);const r={name:t,description:n,image:`https://ipfs.io/ipfs/${s.Hash}`,external_url:`https://ipfs.io/ipfs/${s.Hash}`,attributes:JSON.parse(a)},o=(new TextEncoder).encode(JSON.stringify(r)),l=new Blob([o],{type:"application/json;charset=utf-8"}),[u]=await this.uploadIpfs(l);return{metaHash:u.Hash,fileHash:s.Hash}}}const De=({metaCid:e,fileCid:t,fileType:n,file:a})=>{const s={name:a.name,type:a.type,size:a.size,created_at:Date.now()};return e?{metaCid:e,fileCid:t,fileType:n,file:s}:{metaCid:null,fileCid:null,fileType:null,file:s}};const Ie={name:"PanelUpload",emits:["post-event"],components:{MetaName:te,MetaAttributes:we,MetaDescription:le},setup(e,t){const n=p("notyf"),a=r(null),s=r(!1),i=r(0),o=r(!1),{postContent:l,getPostsByOwner:u}=Ue(),c=Ue(),{account:d}=y(c),w=r(""),h=r(""),g=r('[{"trait_type": "CHANGE_ME", "value": "CHANGE_ME"}]'),v=r(!1),f=r(!1),T=r(!1),k=He(),b=async e=>{const a=await(async(e,t,n,a)=>{const s=new Ee;let i=De({metaCid:null,fileCid:null,fileType:null,file:e}),o="";if(e.type.includes("image"))o="image";else if(e.type.includes("video"))o="video";else{if(!e.type.includes("audio"))return{error:new Error("Unsupported file type"),data:i};o="audio"}if(e.size>26214400)return{error:new Error("Maximum file size is 25 MB"),data:i};try{let r=await s.storeBlob(e,t,n,a),l=r.metaHash,u=r.fileHash;return i=De({metaCid:l,fileCid:u,fileType:o,file:e}),{error:!1,data:i}}catch(r){return console.log(r),{error:r,data:i}}})(e,w.value,h.value,g.value),{data:s}=a,{error:r}=a;if(!r)try{await l(w.value,s.fileCid,s.metaCid,s.fileType),u(d._rawValue)}catch(o){n.error("tx cancelled by user")}return i.value++,r&&r instanceof Error&&n.error(r.message),t.emit("post-event",!0),a},M=async()=>{if(o.value=!0,v.value&&f.value&&T.value){k.addFiles(...a.value.files);const t=k.files.map((e=>b(e)));try{const e=(await Promise.all(t)).filter((({error:e})=>e.message));k.resetFiles(),a.value.value=null,0==e.length&&n.success("NFT successfully created!")}catch(e){i.value=0,o.value=!1,k.resetFiles()}finally{i.value=0,o.value=!1}}else n.error("fix input values and try again"),i.value=0,o.value=!1,a.value.value=null,k.resetFiles()},C=m((()=>k.files.length));return{finished:i,fileRef:a,fileCount:C,isDragged:s,fileSize:W,onDragEnter:()=>{s.value=!0},onDragLeave:()=>{s.value=!1},onDropHandler:e=>{if(o.value)return!1;s.value=!1,a.value.files=e.dataTransfer.files,M()},openSelectFile:()=>{if(o.value)return!1;a.value.click()},onFileChangedHandler:M,name:w,description:h,attributes:g,onNameChanged:e=>{w.value=e.target.value,w.value.match(/^(?=.{3,30}$)[A-Za-z0-9_.\-'#!? ]*[A-Za-z0-9][A-Za-z0-9_.\-'#!? ]*$/)?v.value=!0:v.value=!1},onDescriptionChanged:e=>{h.value=e.target.value,h.value.match(/^(?=.{3,90}$)[A-Za-z0-9_.\-'#!? ]*[A-Za-z0-9][A-Za-z0-9_.\-'#!? ]*$/)?f.value=!0:f.value=!1},onAttributesChanged:e=>{g.value=e.target.value;try{const e=JSON.parse(g.value);if(!Array.isArray(e))throw"not a json array";e.forEach((e=>{if("object"!=typeof e)throw"element is not an object";if(!("trait_type"in e)||!("value"in e))throw"missing req object keys";T.value=!0}))}catch{T.value=!1}},nameValid:v,descValid:f,attrValid:T}}},Re={id:"panel-upload"},Ne={class:"content panel-upload--content"},$e=a("span",null,"Drop file here or click to select",-1),ze=[a("div",{class:"dropzone-loading--bar"},null,-1)];Ie.render=function(e,s,i,r,o,l){const u=te,c=le,d=we,p=Ce,y=_e;return t(),n("section",Re,[w(u,{name:r.name,valid:r.nameValid,onOnChanged:r.onNameChanged},null,8,["name","valid","onOnChanged"]),w(c,{description:r.description,valid:r.descValid,onOnChanged:r.onDescriptionChanged},null,8,["description","valid","onOnChanged"]),w(d,{attributes:r.attributes,valid:r.attrValid,onOnChanged:r.onAttributesChanged},null,8,["attributes","valid","onOnChanged"]),a("div",Ne,[a("div",{class:h(["panel-upload--dropzone",{active:r.isDragged}]),onDragenter:s[2]||(s[2]=(...e)=>r.onDragEnter&&r.onDragEnter(...e)),onDragleave:s[3]||(s[3]=(...e)=>r.onDragLeave&&r.onDragLeave(...e)),onDrop:s[4]||(s[4]=g(((...e)=>r.onDropHandler&&r.onDropHandler(...e)),["prevent"])),onDragover:s[5]||(s[5]=g((()=>{}),["prevent"]))},[a("input",{type:"file",ref:"fileRef",onChange:s[0]||(s[0]=(...e)=>r.onFileChangedHandler&&r.onFileChangedHandler(...e))},null,544),a("div",{class:"dropzone-label",onClick:s[1]||(s[1]=(...e)=>r.openSelectFile&&r.openSelectFile(...e))},[r.fileCount>0?(t(),v(p,{key:0,class:"icon-color"})):(t(),v(y,{key:1,class:"icon-color"})),$e,a("div",{class:h(["dropzone-is-loading",{active:r.fileCount>0}])},ze,2),f(a("span",null," NFT being created... ",512),[[T,r.fileCount>0]])])],34)])])};const Fe={name:"UploadModal",emits:["close"],props:{show:Boolean},components:{PanelUpload:Ie},data:()=>({componentKey:0}),methods:{async updateparent(){const{getUserByOwner:e}=Ue(),t=Ue(),{account:n}=y(t);await e(n._rawValue),this.$emit("close"),this.componentKey+=1}},setup(){const e=new k({duration:2e3,position:{x:"center",y:"bottom"},types:[{type:"loading",background:"orange",duration:0,dismissible:!0,icon:{className:"icon icon-loading",tagName:"i"}}]});b("notyf",e)}},je={key:0,class:"modal-mask"},Ve={class:"modal-wrapper"},We={class:"modal-container"},Ze={class:"modal-footer"};Fe.render=function(e,i,r,o,l,u){const c=Ie;return t(),v(C,{name:"modal"},{default:M((()=>[r.show?(t(),n("div",je,[a("div",Ve,[a("div",We,[w(c,{onPostEvent:u.updateparent},null,8,["onPostEvent"]),a("div",Ze,[x(e.$slots,"footer",{},(()=>[a("button",{class:"modal-default-button",onClick:i[0]||(i[0]=t=>e.$emit("close"))}," x ")]))])])])])):s("",!0)])),_:3})};const Ye={name:"AppHeader",components:{UploadModal:Fe},data:()=>({componentKey:0,showModal:!1,navOpen:!1}),watch:{$route(e,t){if(e!==t){const e=Ue(),{account:t}=y(e);let n=A(_,{seed:t.value,scale:80,translateY:-3}),a=new Blob([n],{type:"image/svg+xml"}),s=URL.createObjectURL(a);this.url=s,this.componentKey+=1}}},setup(){const e=Ue(),{account:t,user:n}=y(e),a=document.body.classList.contains(".dark-theme"),s=r(a);let i=A(_,{seed:t.value,scale:80,translateY:-3}),o=new Blob([i],{type:"image/svg+xml"}),l=URL.createObjectURL(o);return{isDark:s,toggleTheme:()=>{document.body.classList.toggle("dark-theme"),s.value=!s.value},user:n,account:t,url:l}}},qe={class:"header-title"},Ge=B("Rebel "),Ke={key:0},Je={key:1,class:"rw-sentence rw-words rw-words-1"},Xe=[a("span",null,"Own What's Yours",-1),a("span",null,"Dead-Simple Minting",-1),a("span",null,"Near-Zero Gas Fees",-1),a("span",null,"Get Paid Per Like",-1),a("span",null,"Instant Payouts",-1),a("span",null,"Top Creator Rewards",-1)],Qe={class:"hamburgerNav"},et={id:"sidemenu"},tt=[a("span",{class:"top"},null,-1),a("span",{class:"mid"},null,-1),a("span",{class:"bottom"},null,-1)],nt={class:"sidemenu__wrapper"},at={class:"sidemenu__list"},st={class:"sidemenu__item"},it=["src"],rt={class:"sidemenu__item"},ot=a("svg",{class:"svgNavHamburger",xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),a("polyline",{points:"9 22 9 12 15 12 15 22"})],-1),lt={class:"sidemenu__item"},ut=[a("svg",{class:"mintContentHamburger",xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("circle",{cx:"12",cy:"12",r:"10"}),a("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),a("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1)],ct=a("h3",null,"custom header",-1),dt={class:"sidemenu__item"},pt=a("svg",{class:"crowdsaleIconHamburger",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",style:{"vertical-align":"-0.125em"},width:"42",height:"42",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48"},[a("path",{d:"M24.04 6c-4.517 0-8.633 1.492-11.068 2.711c-.22.11-.425.218-.616.322c-.378.206-.7.398-.956.567l2.77 4.078l1.304.519c5.096 2.571 11.93 2.571 17.027 0l1.48-.768l2.62-3.829a15.503 15.503 0 0 0-1.69-.957C32.489 7.437 28.472 6 24.04 6Zm-6.443 4.616a24.579 24.579 0 0 1-2.901-.728C16.977 8.875 20.377 7.8 24.039 7.8c2.537 0 4.936.516 6.92 1.17c-2.325.327-4.806.882-7.17 1.565c-1.86.538-4.034.48-6.192.081Zm15.96 5.064l-.245.124c-5.607 2.828-13.043 2.828-18.65 0l-.232-.118C6.008 24.927-.422 41.997 24.04 41.997c24.46 0 17.873-17.389 9.517-26.317ZM23 24a2 2 0 0 0 0 4v-4Zm2-2v-1h-2v1a4 4 0 0 0 0 8v4a2 2 0 0 1-1.886-1.333a1 1 0 1 0-1.886.666A4.001 4.001 0 0 0 23 36v1h2v-1a4 4 0 1 0 0-8v-4c.87 0 1.611.555 1.887 1.333a1 1 0 1 0 1.885-.666A4.001 4.001 0 0 0 25 22Zm0 8v4a2 2 0 1 0 0-4Z","clip-rule":"evenodd"})],-1),yt={class:"sidemenu__item"},mt=a("svg",{class:"aboutIconHamburger",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"36",height:"36",viewBox:"0 0 30 30"},[a("path",{d:"M 15 3 C 7.82 3 2 7.925 2 14 C 2 16.676142 3.1322222 19.126093 5.0097656 21.033203 C 5.0476793 21.127522 6.0110131 23.606674 3.1582031 26.134766 A 0.5 0.5 0 0 0 3 26.5 A 0.5 0.5 0 0 0 3.5 27 A 0.5 0.5 0 0 0 3.6074219 26.988281 C 6.4832831 26.817905 8.9434573 25.390739 10.445312 24.291016 C 11.864706 24.741137 13.394827 25 15 25 C 22.18 25 28 20.075 28 14 C 28 7.925 22.18 3 15 3 z M 15 7.5 C 15.828 7.5 16.5 8.172 16.5 9 C 16.5 9.828 15.828 10.5 15 10.5 C 14.172 10.5 13.5 9.828 13.5 9 C 13.5 8.172 14.172 7.5 15 7.5 z M 14 13 L 16 13 L 16 20 L 14 20 L 14 13 z"})],-1),wt={class:"sidemenu__item"},ht=["title"],gt={class:"header-menu",id:"header-menu"},vt={class:"header-navbar"},ft=["src"],Tt=a("svg",{class:"svgNav",xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),a("polyline",{points:"9 22 9 12 15 12 15 22"})],-1),kt=[a("svg",{class:"mintContent",xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("circle",{cx:"12",cy:"12",r:"10"}),a("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),a("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1)],bt=a("h3",null,"custom header",-1),Mt=a("svg",{class:"crowdsaleIcon",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",style:{"vertical-align":"-0.125em"},width:"42",height:"42",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48"},[a("path",{fill:"currentColor","fill-rule":"evenodd",d:"M24.04 6c-4.517 0-8.633 1.492-11.068 2.711c-.22.11-.425.218-.616.322c-.378.206-.7.398-.956.567l2.77 4.078l1.304.519c5.096 2.571 11.93 2.571 17.027 0l1.48-.768l2.62-3.829a15.503 15.503 0 0 0-1.69-.957C32.489 7.437 28.472 6 24.04 6Zm-6.443 4.616a24.579 24.579 0 0 1-2.901-.728C16.977 8.875 20.377 7.8 24.039 7.8c2.537 0 4.936.516 6.92 1.17c-2.325.327-4.806.882-7.17 1.565c-1.86.538-4.034.48-6.192.081Zm15.96 5.064l-.245.124c-5.607 2.828-13.043 2.828-18.65 0l-.232-.118C6.008 24.927-.422 41.997 24.04 41.997c24.46 0 17.873-17.389 9.517-26.317ZM23 24a2 2 0 0 0 0 4v-4Zm2-2v-1h-2v1a4 4 0 0 0 0 8v4a2 2 0 0 1-1.886-1.333a1 1 0 1 0-1.886.666A4.001 4.001 0 0 0 23 36v1h2v-1a4 4 0 1 0 0-8v-4c.87 0 1.611.555 1.887 1.333a1 1 0 1 0 1.885-.666A4.001 4.001 0 0 0 25 22Zm0 8v4a2 2 0 1 0 0-4Z","clip-rule":"evenodd"})],-1),Ct=a("svg",{class:"aboutIcon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"36",height:"36",viewBox:"0 0 30 30"},[a("path",{d:"M 15 3 C 7.82 3 2 7.925 2 14 C 2 16.676142 3.1322222 19.126093 5.0097656 21.033203 C 5.0476793 21.127522 6.0110131 23.606674 3.1582031 26.134766 A 0.5 0.5 0 0 0 3 26.5 A 0.5 0.5 0 0 0 3.5 27 A 0.5 0.5 0 0 0 3.6074219 26.988281 C 6.4832831 26.817905 8.9434573 25.390739 10.445312 24.291016 C 11.864706 24.741137 13.394827 25 15 25 C 22.18 25 28 20.075 28 14 C 28 7.925 22.18 3 15 3 z M 15 7.5 C 15.828 7.5 16.5 8.172 16.5 9 C 16.5 9.828 15.828 10.5 15 10.5 C 14.172 10.5 13.5 9.828 13.5 9 C 13.5 8.172 14.172 7.5 15 7.5 z M 14 13 L 16 13 L 16 20 L 14 20 L 14 13 z"})],-1),xt=["title"],At={key:0,class:"connectedWrapper"},_t={key:0,class:"icon-connected"},Lt=a("i",null,null,-1),Ot={class:"connectedText"};Ye.render=function(e,i,r,o,l,u){const c=L("router-link"),d=L("UploadModal"),p=J,y=ee;return t(),n(P,null,[(t(),n("header",{id:"header",key:l.componentKey},[a("div",qe,[a("h1",null,[w(c,{class:"rebelLogo",to:{name:"home"},"active-class":"active",title:"Home",exact:""},{default:M((()=>[Ge])),_:1})]),o.account&&o.user||"about"==e.$route.name?(t(),n("span",Ke,"Own What's Yours")):(t(),n("div",Je,Xe))]),a("nav",Qe,[a("div",et,[a("button",{class:h(["sidemenu__btn",{active:l.navOpen}]),onClick:i[0]||(i[0]=e=>l.navOpen=!l.navOpen)},tt,2),w(C,{name:"translateX"},{default:M((()=>[f(a("nav",{onClick:i[3]||(i[3]=e=>l.navOpen=!l.navOpen)},[a("div",nt,[a("ul",at,[a("li",st,[o.account&&o.user?(t(),v(c,{key:0,to:`/user/${o.account}`,"active-class":"active",title:"Profile",exact:""},{default:M((()=>[a("img",{src:o.url,class:"round-image-header-hamburger"},null,8,it)])),_:1},8,["to"])):s("",!0)]),a("li",rt,[o.account&&o.user?(t(),v(c,{key:0,to:{name:"feed"},"active-class":"active",title:"Discover Feed",exact:""},{default:M((()=>[ot])),_:1})):s("",!0)]),a("li",lt,[a("div",null,[o.account&&o.user?(t(),n("button",{key:0,class:"mintButton",id:"show-modal",onClick:i[1]||(i[1]=e=>l.showModal=!0),title:"Mint New Post"},ut)):s("",!0),(t(),v(O,{to:"body"},[w(d,{show:l.showModal,onClose:i[2]||(i[2]=e=>l.showModal=!1)},{header:M((()=>[ct])),_:1},8,["show"])]))])]),a("li",dt,[o.account&&o.user?(t(),v(c,{key:0,to:{name:"crowdsale"},"active-class":"active",title:"Crowdsale",exact:""},{default:M((()=>[pt])),_:1})):s("",!0)]),a("li",yt,[w(c,{to:{name:"about"},"active-class":"active",title:"About",exact:""},{default:M((()=>[mt])),_:1})]),a("li",wt,[a("i",{title:`Switch to ${o.isDark?"Light":"Dark"} Theme`},[o.isDark?(t(),v(p,{key:0,class:"icon-color-hamburger",onClick:o.toggleTheme},null,8,["onClick"])):(t(),v(y,{key:1,class:"icon-color-hamburger",onClick:o.toggleTheme},null,8,["onClick"]))],8,ht)])])])],512),[[T,l.navOpen]])])),_:1})])]),a("div",gt,[a("nav",vt,[o.account&&o.user?(t(),v(c,{key:0,to:`/user/${o.account}`,"active-class":"active",title:"Profile",exact:""},{default:M((()=>[a("img",{src:o.url,class:"round-image-header"},null,8,ft)])),_:1},8,["to"])):s("",!0),o.account&&o.user?(t(),v(c,{key:1,to:{name:"feed"},"active-class":"active",title:"Discover Feed",exact:""},{default:M((()=>[Tt])),_:1})):s("",!0),a("div",null,[o.account&&o.user?(t(),n("button",{key:0,class:"mintButton",id:"show-modal",onClick:i[4]||(i[4]=e=>l.showModal=!0),title:"Mint New Post"},kt)):s("",!0),(t(),v(O,{to:"body"},[w(d,{show:l.showModal,onClose:i[5]||(i[5]=e=>l.showModal=!1)},{header:M((()=>[bt])),_:1},8,["show"])]))]),o.account&&o.user?(t(),v(c,{key:2,to:{name:"crowdsale"},"active-class":"active",title:"Crowdsale",exact:""},{default:M((()=>[Mt])),_:1})):s("",!0),w(c,{to:{name:"about"},"active-class":"active",title:"About",exact:""},{default:M((()=>[Ct])),_:1}),a("i",{title:`Switch to ${o.isDark?"Light":"Dark"} Theme`},[o.isDark?(t(),v(p,{key:0,class:"icon-color",onClick:o.toggleTheme},null,8,["onClick"])):(t(),v(y,{key:1,class:"icon-color",onClick:o.toggleTheme},null,8,["onClick"]))],8,xt)])])])),o.account?(t(),n("div",At,[o.account?(t(),n("div",_t,[w(c,{class:"connectLink",to:{name:"connect"},"active-class":"active",title:"Connect new wallet",exact:""},{default:M((()=>[Lt,a("div",Ot,S(o.account.substring(0,4))+"..."+S(o.account.slice(-4))+" connected ",1)])),_:1})])):s("",!0)])):s("",!0)],64)};const Pt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},St=[a("path",{d:"M7 2h10l-3.5 7H17l-7 13v-8H7V2m2 2v8h3v2.66L14 11h-3.76l3.52-7H9z",fill:"currentColor"},null,-1)];var Bt={name:"mdi-flash-outline",render:function(e,a){return t(),n("svg",Pt,St)}};const{offlineReady:Ht,needRefresh:Ut,updateServiceWorker:Et}=function(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:a}=e,s=r(!1),i=r(!1);return{updateServiceWorker:function(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:a}=e;let s,i;if("serviceWorker"in navigator){s=new H("/sw.js",{scope:"/"}),s.addEventListener("activated",(e=>{e.isUpdate||null==a||a()}));{const e=()=>{null==n||n()};s.addEventListener("waiting",e),s.addEventListener("externalwaiting",e)}s.register({immediate:t}).then((e=>i=e))}return async(e=!0)=>{e&&(null==s||s.addEventListener("controlling",(e=>{e.isUpdate&&window.location.reload()}))),i&&i.waiting&&await U(i.waiting,{type:"SKIP_WAITING"})}}({immediate:t,onNeedRefresh(){s.value=!0,null==n||n()},onOfflineReady(){i.value=!0,null==a||a()}}),offlineReady:i,needRefresh:s}}(),Dt={name:"ReloadPrompt",setup(){const e=E([Ht,Ut],((t,n)=>{const[a,s]=t,[i,r]=n;!0===a&&!1===i?setTimeout((()=>{Ht.value=!1,e()}),3e3):!0===s&&!1===r&&setTimeout((()=>{Ut.value=!1,Et(),e()}),3e3)}));return{offlineReady:Ht,needRefresh:Ut}}},It={key:0,class:"pwa-toast",role:"alert"},Rt={key:0,class:"pwa-toast--offline"},Nt=a("span",null,"Offline Mode Ready",-1),$t={key:1,class:"pwa-toast--update"},zt=a("span",null,"Working Auto Update",-1);Dt.render=function(e,a,i,r,o,l){const u=Bt,c=Ce;return r.offlineReady||r.needRefresh?(t(),n("div",It,[r.offlineReady?(t(),n("div",Rt,[w(u),Nt])):s("",!0),r.needRefresh?(t(),n("div",$t,[w(c),zt])):s("",!0)])):s("",!0)};const Ft={},jt=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in Ft)return;Ft[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},Vt=()=>jt((()=>import("./VFeed.f154f2c2.js")),["assets/VFeed.f154f2c2.js","assets/VFeed.60888893.css","assets/mdb.umd.min.c702d841.js","assets/mdb.umd.min.64e96fe4.css","assets/vendor.45f5d20f.js","assets/vendor.1b9cd890.css"]),Wt=[{path:"/about",name:"about",component:()=>jt((()=>import("./VAbout.32f94e34.js")),["assets/VAbout.32f94e34.js","assets/VAbout.42d87c28.css","assets/vendor.45f5d20f.js","assets/vendor.1b9cd890.css"])},{path:"/connect",name:"connect",component:()=>jt((()=>import("./ConnectWallet.11de3553.js")),["assets/ConnectWallet.11de3553.js","assets/vendor.45f5d20f.js","assets/vendor.1b9cd890.css"])},{path:"/crowdsale",name:"crowdsale",component:()=>jt((()=>import("./CrowdsaleComp.22647dcf.js")),["assets/CrowdsaleComp.22647dcf.js","assets/CrowdsaleComp.92c201bf.css","assets/vendor.45f5d20f.js","assets/vendor.1b9cd890.css"])},{path:"/",name:"home",component:Vt},{path:"/feed",name:"feed",component:Vt},{path:"/post/:id",name:"Post",component:()=>jt((()=>import("./VPost.9f89873b.js")),["assets/VPost.9f89873b.js","assets/VPost.067880d5.css","assets/mdb.umd.min.c702d841.js","assets/mdb.umd.min.64e96fe4.css","assets/vendor.45f5d20f.js","assets/vendor.1b9cd890.css","assets/404.e420ed5b.js","assets/404.a9a6e4f2.css"])},{path:"/user/:name",name:"User",component:()=>jt((()=>import("./VUser.7930def1.js")),["assets/VUser.7930def1.js","assets/VUser.a4c368a4.css","assets/vendor.45f5d20f.js","assets/vendor.1b9cd890.css","assets/mdb.umd.min.c702d841.js","assets/mdb.umd.min.64e96fe4.css","assets/404.e420ed5b.js","assets/404.a9a6e4f2.css"])}],Zt=D({history:I(),routes:Wt});const Yt={name:"App",components:{AppHeader:Ye,ReloadPrompt:Dt},data:()=>({componentKey:0,ready:!1}),mounted(){const{connectWallet:e}=Ue(),t=Ue(),{account:n}=y(t);if(window.ethereum){const t=async()=>{await e(),Zt.push({path:`/user/${n.value}`})};window.ethereum.on("accountsChanged",t)}this.$nextTick((()=>{this.getUserContent()}))},methods:{async fireConnectWallet(){const{connectWallet:e}=Ue(),t=Ue(),{account:n}=y(t);await e(),"/"!=this.$route.fullPath&&"connect"!=this.$route.name||Zt.push({path:`/user/${n.value}`}),this.ready=!0},async getUserContent(){const{getUserByOwner:e}=Ue(),t=Ue(),{account:n}=y(t);localStorage.getItem("accountStorage")&&(await e(n.value),this.ready=!0)}},setup(){const e=Ue(),{connectWallet:t}=Ue(),{account:n,user:a}=y(e),s=localStorage.getItem("accountStorage");s&&(n.value=s);const i=new k({duration:2e3,position:{x:"center",y:"bottom"},types:[{type:"loading",background:"orange",duration:0,dismissible:!0,icon:{className:"icon icon-loading",tagName:"i"}}]});return b("notyf",i),{connectWallet:t,account:n,user:a}}},qt={key:0,class:"testing"},Gt={class:"divConnect"},Kt=[a("span",null,null,-1),a("span",null,null,-1),a("span",null,null,-1),a("span",null,null,-1),B(" connect wallet ")],Jt={key:1},Xt=a("div",null,null,-1),Qt={key:2},en=a("div",null,null,-1);Yt.render=function(e,i,r,o,l,u){const c=Ye,d=L("router-view"),p=Dt;return t(),n(P,null,[!o.account&&"about"!=e.$route.name||"connect"==e.$route.name?(t(),n("div",qt,[w(c),a("div",Gt,[a("a",{class:"testButton",onClick:i[0]||(i[0]=(...e)=>u.fireConnectWallet&&u.fireConnectWallet(...e))},Kt)])])):s("",!0),"about"!=e.$route.name||this.ready?s("",!0):(t(),n("div",Jt,[w(c),Xt,w(d,null,{default:M((({Component:n})=>[(t(),v(N,null,[(t(),v(R(n),{key:e.$route.name,ready:!0}))],1024))])),_:1}),w(p)])),o.account&&this.ready&&"connect"!=e.$route.name?(t(),n("div",Qt,[w(c),en,w(d,null,{default:M((({Component:n})=>[(t(),v(N,null,[(t(),v(R(n),{key:e.$route.name}))],1024))])),_:1}),w(p)])):s("",!0)],64)};const tn=$(Yt),nn=z();tn.use(nn).use(Zt).use(F),window.matchMedia("(display-mode: standalone)").matches&&window.resizeTo(985,677),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark-theme"),tn.mount("#app");export{Fe as _,V as a,j as b,q as c,Y as g,Z as i,Ue as u};
